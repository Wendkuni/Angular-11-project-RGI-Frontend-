function detectCSSFeature(featurename){var feature=!1,domPrefixes="Webkit Moz ms O".split(" "),elm=document.createElement("div"),featurenameCapital=null;if(featurename=featurename.toLowerCase(),void 0!==elm.style[featurename]&&(feature=!0),feature===!1){featurenameCapital=featurename.charAt(0).toUpperCase()+featurename.substr(1);for(var i=0;i<domPrefixes.length;i++)if(void 0!==elm.style[domPrefixes[i]+featurenameCapital]){feature=!0;break}}return feature}for(var mobileWidth=480,largeWidth=960,tabletWidth=768,desktopWidth=1170,timer,delay=250,arrayDay=["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"],arrayMonth=["01","02","03","04","05","06","07","08","09","10","11","12"],arrayYear=[],arrayYearArrival=[],arrayResults=[],currentYear=(new Date).getFullYear(),year=currentYear;year>=currentYear-100;year--)arrayYear.push(year);for(var htmlYear='<option value="" selected>- -</option>',l=0;l<=arrayYear.length-1;l++)htmlYear+='<option value="'+arrayYear[l]+'">'+arrayYear[l]+"</option>";for(var currentYearArrival=(new Date).getFullYear(),yearArrival=currentYearArrival;yearArrival<=currentYearArrival+20;yearArrival++)arrayYearArrival.push(yearArrival);for(var htmlYearArrival='<option value="" selected>- -</option>',m=0;m<=arrayYearArrival.length-1;m++)htmlYearArrival+='<option value="'+arrayYearArrival[m]+'">'+arrayYearArrival[m]+"</option>";var transitionEnd="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend";hasCssTransitionSupport=detectCSSFeature("transition"),($("body").hasClass("home")||$("body").hasClass("page-booking"))&&NProgress.start(),$(function(){$("input, textarea").placeholder(),$("body.portal").length&&portal.init(),$(".module.map").length&&googleMap.init(),browser.init(),scroll.init(),fade.init(),newsletter.init(),$("header").length&&(header.init(),menu.init(),search.init()),$(".module.slider").length&&slider.init(),$(".module.carousel").length&&carousel.init(),$(".module.contact").length&&contact.init(),$("div.modal").length&&modal.init(),$("section.booking:not(.summary)").length&&booking.init(),$("section.schengen").length&&schengen.init(),$(".module.accordion").length&&accordion.init(),$("div.support").length&&support.init(),$("body").hasClass("page-fade")&&!$("body").hasClass("page-booking")&&fade.pageFadeIn()}),$(window).load(function(){$("body").hasClass("home")&&setTimeout(function(){NProgress.done(),$("body").removeClass("loading"),$(".module.loader").fadeTo("slow",0,function(){$(this).remove()})},500),$("header").length&&header.init(),$(".module.slider").length&&slider.positionThumb(),$("div.support").length&&support.show(),$(".module.accordion").length&&accordion.isLoad(),$(window).scroll(),window.addEventListener("orientationchange",function(){header.autoHeight()})}),$(window).resize(function(e){header.autoHeight(),$(".module.slider").length&&slider.positionThumb(),$("body.portal").length&&portal.footer(),$("section.booking").length&&(booking.border(),booking.documents(),booking.separator(animate=0))}),function(){for(var method,noop=function(){},methods=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeline","timelineEnd","timeStamp","trace","warn"],length=methods.length,console=window.console=window.console||{};length--;)method=methods[length],console[method]||(console[method]=noop)}();var accordion={initialize:function(){$("#accordion-parent").accordion({active:!1,collapsible:!0,heightStyle:"content",activate:function(event,ui){$.isEmptyObject(ui.newHeader.offset())||(myOffset=$("body > header").height(),$("html:not(:animated), body:not(:animated)").animate({scrollTop:ui.newHeader.offset().top-myOffset},"slow"))}}),$("#accordion-duration").accordion({header:".field-event",active:0,collapsible:!0,heightStyle:"content",activate:function(event,ui){$.isEmptyObject(ui.newHeader.offset())||(myOffset=$("body > header").height(),$("html:not(:animated), body:not(:animated)").animate({scrollTop:ui.newHeader.offset().top-myOffset},"slow"))}}),$("#accordion-visa").accordion({header:".field-event",active:0,collapsible:!0,heightStyle:"content",activate:function(event,ui){$.isEmptyObject(ui.newHeader.offset())||(myOffset=$("body > header").height(),$("html:not(:animated), body:not(:animated)").animate({scrollTop:ui.newHeader.offset().top-myOffset},"slow"))}}),$("#accordion-type").accordion({header:".field-event",active:0,collapsible:!0,heightStyle:"content",activate:function(event,ui){$.isEmptyObject(ui.newHeader.offset())||(myOffset=$("body > header").height(),$("html:not(:animated), body:not(:animated)").animate({scrollTop:ui.newHeader.offset().top-myOffset},"slow"))}})},isOpenCloseParent:function(){$(document).on("click","#accordion-parent h3",function(e){e.preventDefault(),"fr"===lang?$("#accordion-parent h3 .toggle").removeClass("is-show").find("span").html("Lire la suite"):$("#accordion-parent h3 .toggle").removeClass("is-show").find("span").html("Read more"),$(this).hasClass("ui-state-active")&&("fr"===lang?$(this).find(".toggle").addClass("is-show").find("span").html("Réduire"):$(this).find(".toggle").addClass("is-show").find("span").html("Minimize")),accordion.border()})},isNext:function(){$(document).on("click","#accordion-parent .ui-accordion-content > a:not(.external-link)",function(e){e.preventDefault(),$(this).closest("div").next("h3").trigger("click")})},isTrigger:function(){$(".accordion-panel .field-wrapper a").click(function(e){e.preventDefault(),$(this).closest(".field-wrapper").next(".field-event").trigger("click")})},isValidateStep:function(){$(document).on("click",".visa-search fieldset .step-container-data .content .next-step a",function(e){e.preventDefault();var myElement=$(this),myErrorMessage=(myElement.closest(".content").find(".bloc"),myElement.closest(".content").find(".error-message")),mySummaryHeight=50,myDuration=1800;0!==$("input[name="+$(this).closest(".next-step").data("name")+"]:checked").length?myElement.closest("fieldset").find(".container").slideUp({duration:myDuration/2,easing:"easeOutCubic",done:function(){$(this).closest("fieldset").prev("section.header").find(".container .number").addClass("active"),$(this).closest("fieldset").prev("section.header").find(".container .title span").html($("input[name="+myElement.closest(".next-step").data("name")+"]:checked").next("label").html()),$(this).find(".step-container-data").hide(),$(this).find(".step-container-border").removeAttr("style");var rate=250,ms=mySummaryHeight/rate*1e3;$(this).slideDown({duration:ms,easing:"linear",start:function(){var myNextStep=$(this).closest("fieldset").data("step")+1;$(this).closest("fieldset").prev("section.header").removeClass("active"),$('fieldset.step-container[data-step="'+myNextStep+'"]').prev("section.header").addClass("selected").addClass("active")},done:function(){var myNextStep=$(this).closest("fieldset").data("step")+1;ms=$('fieldset.step-container[data-step="'+myNextStep+'"]').height()/rate*1e3,$('fieldset.step-container[data-step="'+myNextStep+'"]').slideDown({duration:ms,easing:"easeOutCubic",complete:function(){$(window).trigger("resize")}}),$('fieldset.step-container[data-step="'+myNextStep+'"]').find(".step-container-border").height($('fieldset.step-container[data-step="'+myNextStep+'"]').find(".step-container-data .content").height())}})}}):"duration"===$(this).closest(".next-step").data("name")?"fr"===lang?myErrorMessage.html("Veuillez sélectionner une durée de voyage."):myErrorMessage.html("Please select a duration."):"visa"===$(this).closest(".next-step").data("name")?"fr"===lang?myErrorMessage.html("Veuillez sélectionner un Visa."):myErrorMessage.html("Please select a Visa"):"type"===$(this).closest(".next-step").data("name")&&("fr"===lang?myErrorMessage.html("Veuillez sélectionner un type de Visa."):myErrorMessage.html("Please select a type of Visa."))})},isLoad:function(){var pathArray=window.location.href.split("tab-");if(pathArray[1]){var myIndex=pathArray[1],myActive=pathArray[1]-1;$("#accordion-parent").accordion({active:myActive}),"fr"===lang?$("#accordion-parent h3#tab-"+myIndex).find(".toggle").addClass("is-show").find("span").html("Réduire"):$("#accordion-parent h3#tab-"+myIndex).find(".toggle").addClass("is-show").find("span").html("Minimize")}else $("#accordion-parent").accordion({active:0}),"fr"===lang?$("#accordion-parent #tab-1").find(".toggle").addClass("is-show").find("span").html("Réduire"):$("#accordion-parent #tab-1").find(".toggle").addClass("is-show").find("span").html("Minimize");accordion.border()},border:function(){$(".visa-search fieldset").each(function(){var fieldset=$(this);fieldset.find(".step-container-data").is(":visible")&&fieldset.find(".step-container-border").height(fieldset.find(".step-container-data").outerHeight())})},init:function(){accordion.initialize(),accordion.isOpenCloseParent(),accordion.isNext(),accordion.isTrigger(),accordion.isValidateStep()}},browser={reject:function(){$.reject({reject:{all:!1,msie:8},close:!1,header:headerReject,paragraph1:paragraph1Reject,paragraph2:paragraph2Reject,imagePath:"../../img/browsers/",overlayBgColor:"#000",overlayOpacity:.8,fadeInTime:"fast",fadeOutTime:"fast"})},init:function(){browser.reject()}},carousel={initialize:function(){$("#carousel").revolution({sliderType:"carousel",sliderLayout:"auto",navigation:{keyboardNavigation:"off",keyboard_direction:"horizontal",mouseScrollNavigation:"off",onHoverStop:"off",tabs:{style:"zeus",enable:!0,width:175,height:33,min_width:175,wrapper_padding:0,wrapper_color:"transparent",wrapper_opacity:"0",tmp:'<span class="tp-tab-title">{{title}}</span>',visibleAmount:3,hide_onmobile:!0,hide_under:768,hide_onleave:!0,hide_delay:200,direction:"horizontal",span:!0,position:"inner",space:1,h_align:"center",v_align:"top",h_offset:0,v_offset:30},arrows:{style:"",enable:!0,hide_onmobile:!1,hide_onleave:!1,hide_delay:200,hide_delay_mobile:1200,hide_under:0,hide_over:9999,tmp:"",left:{h_align:"left",v_align:"center",h_offset:20,v_offset:0},right:{h_align:"right",v_align:"center",h_offset:20,v_offset:0}},touch:{touchenabled:"off",swipe_treshold:75,swipe_min_touches:1,drag_block_vertical:!1,swipe_direction:"horizontal"}},carousel:{horizontal_align:"center",vertical_align:"center",fadeout:"on",vary_fade:"on",maxVisibleItems:3,infinity:"on",space:0,stretch:"off"},responsiveLevels:[1024,778,480],gridwidth:[770,770,770],gridheight:[400,400,400],lazyType:"smart",shadow:0,spinner:"off",stopLoop:"on",stopAfterLoops:0,stopAtSlide:1,shuffle:"off",autoHeight:"off",disableProgressBar:"on",hideThumbsOnMobile:"off",hideSliderAtLimit:0,hideCaptionAtLimit:0,hideAllCaptionAtLilmit:0,debugMode:!1,fallbacks:{simplifyAll:"off",nextSlideOnWindowFocus:"off",disableFocusListener:!1}})},changeCaption:function(){jQuery("#carousel").bind("revolution.slide.onbeforeswap",function(e,data){$(".module.carousel .container .rev_slider_caption").html(data.nextslide.data("description"))})},init:function(){carousel.initialize(),carousel.changeCaption()}},formElement=".form-element",formResponse=".form-response",formHoneypot=".form-honeypot",formSubmit=".form-submit",contactForm=".contact-form",contactRequired=".required-field",contact={initialize:function(){$(contactForm).on("submit",function(event){event.preventDefault();var form=$(this),responseMessage=form.parent().find(formResponse),fromElements=form.find(formElement),emailField=form.find('input[name="email"]'),honeypot=form.find(formHoneypot),submit=form.find(formSubmit),formUrl=form.attr("action"),formMethod=form.attr("method"),formData=form.serialize(),emptyFields=!1,filledFields=!1,validEmail=!1;if(contactRequired=contactRequired.split(".").join(""),fromElements.removeClass(contactRequired),fromElements.each(function(){$(this).attr("required")&&($(this).val()||(emptyFields=!0,$(this).addClass(contactRequired),responseMessage.hide().html(contactFormFillFields).fadeIn(200)))}),emptyFields||(filledFields=!0),emailField.val()&&!contact.isValidEmail(emailField.val())?(responseMessage.hide().html(contactFormValidEmail).fadeIn(200),emailField.addClass(contactRequired)):validEmail=!0,""!==honeypot.val())return!1;if(emptyFields&&emailField.val()&&!contact.isValidEmail(emailField.val())&&responseMessage.hide().html(contactFormFillFields+" "+contactFormValidEmail).fadeIn(200),filledFields&&validEmail){var submitValue=$(submit).val();$(submit).css({width:$(submit).outerWidth()+"px"}).val(contactFormSendingButton).attr("disabled",!0),responseMessage.hide().html(contactFormSending).fadeIn(200),$.ajax({url:formUrl,type:formMethod,data:formData,dataType:"json"}).done(function(data){try{if(data.response===!0)responseMessage.html(contactFormSuccess),responseMessage.delay(1500),fromElements.val("");else{var errorMessage="undefined"==typeof data.json.error_message?"There is a possibility that your message was not sent. Please check up the server or script configuration.":data.json.error_message;responseMessage.hide().html(contactFormError+" "+errorMessage).fadeIn(200)}}catch(e){console.log("error in parsing returned ajax data: "+e),console.log(data),responseMessage.hide().html("Error occurred. Please see the console for details.").fadeIn(200)}}).fail(function(jqXHR,textStatus,errorThrown){console.log("Error occured in processing your request:"),console.log(jqXHR),console.log("Text status"),console.log(textStatus),console.log("Error thrown"),console.log(errorThrown),console.log("Servre response"),console.log(jqXHR.status),console.log("Response Text may contain error output from PHP"),console.log(jqXHR.responseText),responseMessage.hide().html(contactFormError+" (Please see the console for error details.)").fadeIn(200)}).always(function(){$(submit).css({width:""}).val(submitValue).attr("disabled",!1)})}})},isValidEmail:function(email){var addressCheck=new RegExp(/^[_\.0-9a-zA-Z-]+@([0-9a-zA-Z][0-9a-zA-Z-]+\.)+[a-zA-Z]{2,6}$/i);return addressCheck.test(email)},init:function(){contact.initialize()}},pageFadeLocation=!0,page="body",launchLink=".fade-location",excludeLink=".no-page-fade",fade={pageFadeIn:function(){return!!pageFadeLocation&&void(hasCssTransitionSupport===!0?$(page).addClass("page-fade-in").removeClass("page-fade-out"):$(page).css("opacity",1))},openTab:function(){$(".open-tab").on("click",function(event){event.preventDefault();this.href;$("#accordion-parent").accordion({active:!1});var pathArray=$(this).attr("href").split("tab-"),myIndex=pathArray[1],myActive=pathArray[1]-1;$("#accordion-parent").accordion({active:myActive}),"fr"===lang?$("#accordion-parent h3#tab-"+myIndex).find(".toggle").addClass("is-show").find("span").html("Réduire"):$("#accordion-parent h3#tab-"+myIndex).find(".toggle").addClass("is-show").find("span").html("Minimize")})},pageFadeOut:function(){return!!pageFadeLocation&&void $(launchLink).not(excludeLink).on("click",function(event){event.preventDefault();var location=this.href;if($(this).hasClass("open-tab")){$("#accordion-parent").accordion({active:!1});var pathArray=$(this).attr("href").split("tab-"),myIndex=pathArray[1],myActive=pathArray[1]-1;$("#accordion-parent").accordion({active:myActive}),"fr"===lang?$("#accordion-parent h3#tab-"+myIndex).find(".toggle").addClass("is-show").find("span").html("Réduire"):$("#accordion-parent h3#tab-"+myIndex).find(".toggle").addClass("is-show").find("span").html("Minimize")}else hasCssTransitionSupport===!0?$(page).addClass("page-fade-out").on(transitionEnd,function(event){return event.stopPropagation(),event.target===$(this)[0]&&void fade.goToNewPage(location)}):fade.goToNewPage(location)})},goToNewPage:function(location){window.location.href=location},init:function(){fade.openTab()}},header={autoHeight:function(){hHeader=$("body > header .container > a").outerHeight(),$("body > header .container > div > div > nav").height(hHeader),$("body > header .container > div > div > a").outerHeight(hHeader),$("body > header .container > div > div > div").outerHeight(hHeader),$("body > header .container > div > div > .bloc").outerHeight(hHeader)},posFixed:function(){$(window).scroll(function(){var offsetSlider=$("body > header + section > section .container").offset().top;$(document).scrollTop()>offsetSlider?($("body > header").addClass("fixed"),$(".module.slider .bloc").addClass("scroll"),$("body > header + section > section").first().css("paddingTop",100)):0===$(document).scrollTop()&&($("body > header").removeClass("fixed"),$(".module.slider .bloc").removeClass("scroll"),$("body > header + section > section").first().css("paddingTop",0))})},init:function(){header.autoHeight(),header.posFixed()}},icon={changeColor:function(){$(".icons").each(function(){$(this).attr("src",$(this).attr("src").replace("0a57a5","006b34"))})},init:function(){icon.changeColor()}};$(".module.step").length&&($.fn.isOutScreen=function(){var win=$(window),viewport={top:win.scrollTop(),left:win.scrollLeft()};viewport.right=viewport.left,viewport.bottom=viewport.top;var bounds=this.offset();return bounds.right=bounds.left+this.outerWidth(),bounds.bottom=bounds.top+this.outerHeight(),!(viewport.right<bounds.left&&viewport.left>bounds.right||viewport.bottom>bounds.top&&viewport.top<bounds.bottom)},$(window).scroll(function(){$(".module.step").isOutScreen()===!0?$(".scroll-btn").addClass("inview"):$(".scroll-btn").removeClass("inview")}));var googleMap={initialize:function(){for(markers=[],infoWindows=[],map=new google.maps.Map(document.getElementById("contact-map"),{center:new google.maps.LatLng(37.4419,-122.1419),zoom:11,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_RIGHT},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT,style:google.maps.ZoomControlStyle.LARGE},scaleControl:!0,streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP},styles:[{featureType:"landscape",stylers:[{hue:"#FFBB00"},{saturation:43.400000000000006},{lightness:37.599999999999994},{gamma:1}]},{featureType:"road.highway",stylers:[{hue:"#FFC200"},{saturation:-61.8},{lightness:45.599999999999994},{gamma:1}]},{featureType:"road.arterial",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:51.19999999999999},{gamma:1}]},{featureType:"road.local",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:52},{gamma:1}]},{featureType:"water",stylers:[{hue:"#0078FF"},{saturation:-13.200000000000003},{lightness:2.4000000000000057},{gamma:1}]},{featureType:"poi",stylers:[{hue:"#00FF6A"},{saturation:-1.0989010989011234},{lightness:11.200000000000017},{gamma:1}]}]}),geocoder=new google.maps.Geocoder,i=0;i<locations.length;i++)googleMap.geocodeAddress(locations,i)},geocodeAddress:function(locations,i){var title=locations[i][0],address=locations[i][1],email=locations[i][2],url=locations[i][3],tel=locations[i][4],schedule=locations[i][5],img=locations[i][6],direction="http://maps.google.com/maps?saddr=&daddr="+address,icon=locations[i][7],id=locations[i][8];geocoder.geocode({address:locations[i][1]},function(results,status){if(status==google.maps.GeocoderStatus.OK){var iconImage=new google.maps.MarkerImage(icon,new google.maps.Size(20,32),new google.maps.Point(0,0),new google.maps.Point(10,32)),marker=new google.maps.Marker({icon:iconImage,map:map,position:results[0].geometry.location,title:title,animation:google.maps.Animation.DROP,address:address,url:url,email:email,tel:tel,schedule:schedule,id:id});google.maps.event.addListener(marker,"click",function(){var address=marker.address,tel=marker.tel,email=marker.email,schedule=marker.schedule,id=marker.id;$(".module.contact .content .address").find("p").html("<b>"+address+"</b>"),$(".module.contact .content .tel").find("b").html(tel),$(".module.contact .content .email").find("b").html(email),$(".module.contact .content .schedule").find("b").html(schedule),$(".module.contact .content .contact-form .form-recipient").attr("value",email),$(".module.map .center ul li").removeClass("selected"),$(".module.map .center ul li").eq(id).addClass("selected"),$(window).width()>tabletWidth&&($(".module.map .center ul li").find("span").hide(),$(".module.map .center ul li").eq(id).find("span").show()),map.setCenter(marker.position)}),googleMap.infoWindow(marker,map,title,address,email,url,img,direction),bounds.extend(marker.getPosition()),map.fitBounds(bounds),markers[id]=marker}else console.log("geocode of "+address+" failed:"+status)})},infoWindow:function(marker,map,title,address,email,url,img,direction){var infoWindow=new google.maps.InfoWindow({content:""}),html="<div><h3><b>"+title+"</b></h3><div class='content'><p>"+address+"</p><a href='"+email+"'>"+email+"</a><br><a href='"+url+"'>"+url+"</a></div><div class='image'><img src='"+img+"' alt=''></div></div><div class='links'><a href='"+direction+"' target='_blank'>Directions</a></div>";google.maps.event.addListener(marker,"click",function(){googleMap.closeAllInfoWindows(),infoWindow.setContent(html),infoWindow.open(map,marker),infoWindows.push(infoWindow)})},closeAllInfoWindows:function(){for(var i=0;i<infoWindows.length;i++)infoWindows[i].close()},calculateCenter:function(){google.maps.event.addDomListener(window,"resize",function(){var center=map.getCenter();google.maps.event.trigger(map,"resize"),map.setCenter(center),$(window).width()<=mobileWidth?map.setZoom(4):$(window).width()>mobileWidth&&$(window).width()<=tabletWidth?map.setZoom(5):map.setZoom(6)})},centerClick:function(){$(".center ul li a").on("click",function(){google.maps.event.trigger(markers[$(this).data("id")],"click")})},init:function(){locations=[],$(".module.map .center ul li:not(:first-child)").each(function(key,value){myCols=$(".module.map .center ul li:not(:first-child)").size(),locations[key]=[$(value).find("a").data("title"),$(value).find("a").data("address"),$(value).find("a").data("email"),$(value).find("a").data("link"),$(value).find("a").data("tel"),$(value).find("a").data("schedule"),$(value).find("a").data("img"),$(value).find("a").data("ico"),$(value).find("a").data("id")]}),bounds=new google.maps.LatLngBounds,googleMap.initialize(),googleMap.calculateCenter(),googleMap.centerClick()}},menu={open:function(){$("header nav a").click(function(e){e.preventDefault();var link=$(this),parent=link.parent(),ul=parent.find("ul");ul.length?parent.hasClass("selected")?(parent.removeClass("selected"),ul.first().hide()):(parent.is("li")||($("header nav").removeClass("selected"),$("header nav ul li").removeClass("selected"),$("header nav ul").hide()),parent.addClass("selected"),ul.first().show()):window.location.href=link.attr("href")})},close:function(){$(document).mouseup(function(e){var subject=$("header .container .nav");e.target.id==subject.attr("id")||subject.has(e.target).length||($("header .nav.desktop nav").hasClass("selected")?$("header .menu").trigger("click"):$("header .nav.mobile nav").hasClass("selected")&&$("header .settings").trigger("click"))})},init:function(){menu.open(),menu.close()}},formElement=".form-element",formResponse=".form-response",formHoneypot=".form-honeypot",formSubmit=".form-submit",modalForm=".modal-form",modalRequired=".required-field",modal={open:function(){$("a.modal").click(function(e){e.preventDefault(),$("div.modal."+$(this).data("modal")).css("visibility","visible").css("opacity",1)})},close:function(){$("div.modal .close").click(function(e){e.preventDefault(),$(this).closest(".modal").css("opacity",0).css("visibility","hidden"),$(this).closest(".modal").find(".form-response span").remove()})},form:function(){$(modalForm).on("submit",function(event){event.preventDefault();var form=$(this),responseMessage=form.parent().find(formResponse),fromElements=form.find(formElement),emailField=form.find('input[name="email"]'),honeypot=form.find(formHoneypot),submit=form.find(formSubmit),formUrl=form.attr("action"),formMethod=form.attr("method"),formData=form.serialize(),emptyFields=!1,filledFields=!1,validEmail=!1;if(modalRequired=modalRequired.split(".").join(""),fromElements.removeClass(modalRequired),fromElements.each(function(){$(this).attr("required")&&($(this).val()||(emptyFields=!0,$(this).addClass(modalRequired),responseMessage.html(modalFormFillFields).fadeIn(200)))}),emptyFields||(filledFields=!0),emailField.val()&&!modal.isValidEmail(emailField.val())?(responseMessage.html(modalFormValidEmail).fadeIn(200),emailField.addClass(modalRequired)):validEmail=!0,""!==honeypot.val())return!1;if(emptyFields&&emailField.val()&&!modal.isValidEmail(emailField.val())&&responseMessage.html(modalFormFillFields+" "+modalFormValidEmail).fadeIn(200),filledFields&&validEmail){var submitValue=$(submit).val();$(submit).css({width:$(submit).outerWidth()+"px"}).val(modalFormSendingButton).attr("disabled",!0),responseMessage.html(modalFormSending).fadeIn(200),$.ajax({url:formUrl,type:formMethod,data:formData,dataType:"json"}).done(function(data){try{if("true"==data.response)responseMessage.html(modalFormSuccess),responseMessage.delay(1500),fromElements.val("");else{var errorMessage="undefined"==typeof data.json.error_message?"There is a possibility that your message was not sent. Please check up the server or script configuration.":data.json.error_message;responseMessage.html(modalFormError+" "+errorMessage).fadeIn(200)}}catch(e){console.log("error in parsing returned ajax data: "+e),console.log(data),responseMessage.html("Error occurred. Please see the console for details.").fadeIn(200)}}).fail(function(jqXHR,textStatus,errorThrown){console.log("Error occured in processing your request:"),console.log(jqXHR),console.log("Text status"),console.log(textStatus),console.log("Error thrown"),console.log(errorThrown),console.log("Servre response"),console.log(jqXHR.status),console.log("Response Text may contain error output from PHP"),console.log(jqXHR.responseText),responseMessage.html(modalFormError+" (Please see the console for error details.)").fadeIn(200)}).always(function(){$(submit).css({width:""}).val(submitValue).attr("disabled",!1)})}})},isValidEmail:function(email){var addressCheck=new RegExp(/^[_\.0-9a-zA-Z-]+@([0-9a-zA-Z][0-9a-zA-Z-]+\.)+[a-zA-Z]{2,6}$/i);return addressCheck.test(email)},init:function(){modal.open(),modal.close(),modal.form()}},formElement=".form-element",formResponse=".form-response",formHoneypot=".form-honeypot",formSubmit=".form-submit",newsletterForm=".newsletter-form",newsletterRequired=".required-field",newsletter={initialize:function(){$(newsletterForm).submit(function(event){event.preventDefault();var form=$(this),responseMessage=form.parent().find(formResponse),fromElements=form.find(formElement),emailField=form.find('input[name="email"]'),honeypot=form.find(formHoneypot),submit=form.find(formSubmit),formUrl=form.attr("action"),formMethod=form.attr("method"),formData=form.serialize(),emptyFields=!1,filledFields=!1,validEmail=!1;if(newsletterRequired=newsletterRequired.split(".").join(""),fromElements.removeClass(newsletterRequired),fromElements.each(function(){$(this).attr("required")&&($(this).val()||(emptyFields=!0,$(this).addClass(newsletterRequired),responseMessage.hide().html(newsletterFormFillFields).fadeIn(200)))}),emptyFields||(filledFields=!0),emailField.val()&&!newsletter.isValidEmail(emailField.val())?(responseMessage.hide().html(newsletterFormValidEmail).fadeIn(200),emailField.addClass(newsletterRequired)):validEmail=!0,""!==honeypot.val())return!1;if(emptyFields&&emailField.val()&&!newsletter.isValidEmail(emailField.val())&&responseMessage.hide().html(newsletterFormFillFields+" "+newsletterFormValidEmail).fadeIn(200),filledFields&&validEmail){var submitValue=$(submit).val();$(submit).css({width:"25%"}).val(newsletterFormSendingButton).attr("disabled",!0),responseMessage.hide().html(newsletterFormSending).fadeIn(200),$.ajax({url:formUrl,type:formMethod,data:formData,dataType:"json"}).done(function(data){try{if(data.response===!0)responseMessage.html(newsletterFormSuccess),responseMessage.delay(1500),fromElements.val("");else if("notification"==data.response)responseMessage.html(newsletterFormsNotif),responseMessage.delay(1500),fromElements.val("");else{var errorMessage="undefined"==typeof data.json.error_message?"There is a possibility that your message was not sent. Please check up the server or script configuration.":data.json.error_message;responseMessage.hide().html(newsletterFormError+" "+errorMessage).fadeIn(200)}}catch(e){console.log("error in parsing returned ajax data: "+e),console.log(data),responseMessage.hide().html("Error occurred. Please see the console for details.").fadeIn(200)}}).fail(function(jqXHR,textStatus,errorThrown){console.log("Error occured in processing your request:"),console.log(jqXHR),console.log("Text status"),console.log(textStatus),console.log("Error thrown"),console.log(errorThrown),console.log("Servre response"),console.log(jqXHR.status),console.log("Response Text may contain error output from PHP"),console.log(jqXHR.responseText),responseMessage.hide().html(newsletterFormError+" (Please see the console for error details.)").fadeIn(200)}).always(function(){$(submit).css({width:""}).val(submitValue).attr("disabled",!1)})}})},isValidEmail:function(email){var addressCheck=new RegExp(/^[_\.0-9a-zA-Z-]+@([0-9a-zA-Z][0-9a-zA-Z-]+\.)+[a-zA-Z]{2,6}$/i);return addressCheck.test(email)},init:function(){newsletter.initialize()}},portal={select:function(){$(".portal select").selectric({disableOnMobile:!1}),$("select[name=residence]").on("selectric-change",function(element){var data=$(this).data("selectric");"destination"===$(this).val()?($(".select.destination .fr").val($(data.element).closest("."+data.classes.wrapper).find("option:selected").data("website-fr")),$(".select.destination .ita").val($(data.element).closest("."+data.classes.wrapper).find("option:selected").data("website-ita")),$(".select.destination").show()):""!==$(this).val()?($(".select.destination").hide(),window.location.href=$(this).val()):$(".select.destination").hide()}),$("select[name=destination]").on("selectric-change",function(element){window.location.href=$(this).val()})},footer:function(){var docHeight=$("section").outerHeight()+$("footer").outerHeight();$(window).height()>docHeight?$("footer").addClass("fixed"):$("footer").removeClass("fixed")},init:function(){portal.select(),portal.footer()}},scroll={initialize:function(){$(".scroll-btn a").click(function(){var the_id=$(this).attr("href");return $("html, body").animate({scrollTop:$(the_id).offset().top+60},"slow"),!1})},init:function(){scroll.initialize()}},search={focus:function(){var speed=450,ease="easeInOutCubic";$(".bloc.search input[type=text]").bind("focusin",function(e){$(this).parent("form").animate({left:"-70px"},speed,ease),$(this).animate({width:"100px"},speed,ease)}),$(".bloc.search input[type=text]").bind("focusout",function(e){$(this).parent("form").animate({left:0},speed,ease),$(this).animate({width:0},speed,ease)})},send:function(){$(".search-form input").keydown(function(e){13==e.keyCode&&$(this).closest("form").submit()})},init:function(){search.focus(),search.send()}},slider={initialize:function(){$("#header-slider").revolution({sliderType:"standard",sliderLayout:"auto",stopAfterLoops:0,stopAtSlide:1,lazyType:"smart",spinner:"off",carousel:{stretch:"on"},navigation:{keyboardNavigation:"off",keyboard_direction:"horizontal",mouseScrollNavigation:"off",onHoverStop:"off",arrows:{style:"",enable:!0,hide_onmobile:!0,hide_onleave:!1,hide_delay:200,hide_delay_mobile:1200,hide_under:0,hide_over:9999,tmp:"",left:{h_align:"left",v_align:"top",h_offset:0,v_offset:85},right:{h_align:"right",v_align:"top",h_offset:0,v_offset:85}}}})},navigation:function(){$("#header-slider .rev_slider_navigation a").click(function(e){e.preventDefault();var mySlider=$("#header-slider"),nav=$(this),parent=$(this).parent(),move=558,end=parent.find("nav ul").width()-move,speed="slow",ease="easeInOutCubic";if(nav.hasClass("arrow_navigation")){
var nextElement,selected=parent.find("nav ul li.selected"),index=selected.index()+1;$(this).find("img").hasClass("icon-Long-Arrow-Right")?(console.log("Navigation to the right"),selected.hasClass("last")?(parent.find("nav ul").animate({left:0},speed,ease),slider.selectElement(1),mySlider.revshowslide(1),slider.selectElement(1)):(index%3===0&&(console.log("LAST ELEMENT OF THREE"),parent.find("nav ul").animate({left:"-="+move},speed,ease)),nextElement=index+1,mySlider.revshowslide(nextElement),slider.selectElement(nextElement))):(console.log("Navigation to the left"),selected.hasClass("first")?(parent.find("nav ul").animate({left:"-="+end},speed,ease),slider.selectElement(parent.find("nav ul li").size()),mySlider.revshowslide(parent.find("nav ul li").size())):(index%4===0&&(console.log("LAST ELEMENT OF THREE"),parent.find("nav ul").animate({left:"+="+move},speed,ease)),nextElement=index-1,mySlider.revshowslide(nextElement),slider.selectElement(nextElement)))}else{var indexThumbnail=nav.closest("li").index()+1;mySlider.revshowslide(indexThumbnail),slider.selectElement(indexThumbnail)}})},selectElement:function(index){$(".rev_slider_navigation nav ul li").removeClass("selected"),$(".rev_slider_navigation nav ul li").eq(index-1).addClass("selected");var image=$("#header-slider ul li").eq(index-1).data("image");$("#header-slider .rev_slider_description .rev_date_category img").attr("src",image);var date=$("#header-slider ul li").eq(index-1).data("date");$("#header-slider .rev_slider_description .rev_date_category .date").html(date);var category=$("#header-slider ul li").eq(index-1).data("category");$("#header-slider .rev_slider_description .rev_date_category .category").html(category);var title=$("#header-slider ul li").eq(index-1).data("title");$("#header-slider .rev_slider_description article h2").html(title);var paraone=$("#header-slider ul li").eq(index-1).data("paraone");$("#header-slider .rev_slider_description article p").first().html(paraone);var paratwo=$("#header-slider ul li").eq(index-1).data("paratwo");$("#header-slider .rev_slider_description article p.last").html(paratwo);var link=$("#header-slider ul li").eq(index-1).data("link");link?($("#header-slider .rev_slider_more").show(),$("#header-slider .rev_slider_more a").attr("href",link)):($("#header-slider .rev_slider_more").hide(),$("#header-slider .rev_slider_more a").attr("href",""))},triggerElement:function(index){$(document).on("click","#header-slider .tparrows",function(){$(this).hasClass("tp-leftarrow")?$(".arrow_navigation.left").trigger("click"):$(".arrow_navigation.right").trigger("click")})},mouseOver:function(){$(document).on("mouseover","#header-slider .tparrows",function(){$(this).hasClass("tp-leftarrow")?$(".module.slider .bloc.left").addClass("color"):$(".module.slider .bloc.right").addClass("color")}),$(document).on("mouseout","#header-slider .tparrows",function(){$(".module.slider .bloc").removeClass("color")})},positionThumb:function(){var hSlide=$(".module.slider .rev_slider_wrapper").height(),hBtn=$(".module.slider .rev_slider_more").height(),hWarning=0,eWarning=$(".module.slider .rev_slider_wrapper .rev_slider_warning");eWarning.length&&(hWarning=eWarning.outerHeight()),$(window).width()>tabletWidth?$(".module.slider .rev_slider_infos").css("top",hSlide-hBtn-hWarning):$(".module.slider .rev_slider_infos").css("top","auto")},init:function(){slider.initialize(),slider.navigation(),slider.triggerElement(),slider.mouseOver()}},support={show:function(){$(".support").addClass("show")},hide:function(){$(".support .close").click(function(e){e.preventDefault(),$(".support").removeClass("show")})},init:function(){support.hide()}};